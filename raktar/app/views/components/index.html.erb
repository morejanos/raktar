
<h1>Készlet</h1>

<%= form_tag components_path, :method => 'get' do %>
    <p>
      <%= field_set_tag do %>
        <%= search_field_tag :search, session[:search], placeholder: 'Írja ide a keresett szót...' %>
        <%= submit_tag "Keresés", name: nil %>
        <% Componenttype.all.each do |type| %>
          <%= radio_button_tag(:componenttype, type.id, (type.id == session[:componenttype].to_i)) %>
          <%= label_tag(:componenttype, type.name) %>
        <% end %>
      <% end %>
    </p>
<% end %>

<table id="datatables" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th> Név </th>
      <th> Szám </th>
      <th> Készlet </th>
      <th> Lokáció</th>
      <th> Típus </th>
      <th> Ellenállás</th>
      <th> Kapacitás </th>
      <th> Induktivitás </th>
      <th> Feszültség </th>
      <th> Áram </th>
      <th> Teljesítmény </th>
      <th> Hőmérséklet </th>
      <th> Méret </th>
      <th> Értesítési darabszám </th>
      <th> Tokozás </th>
      <th> Gyártó </th>
      <% if can? :read, @components.first %> <th>Megnéz</th> <% end %>
      <% if can? :update, @components.first %> <th>Szekeszt</th> <% end %>
      <% if can? :destroy, @components.first %> <th>Töröl</th> <% end %>
    </tr>
  </thead>
  <tbody>
    <% @components.each do |component| %>
      <tr>
        <td><%= link_to component, component %></td>
        <td><%= component.partnumber %></td>
        <td><%= component.inventory %></td>
        <td><%= component.location%></td>
        <% unless component.componenttype.nil? %> <td><%= link_to component.componenttype, component.componenttype %> </td> <% else %> <td> "NA" </td> <% end %>
        <td><%= component.resistance %></td>
        <td><%= component.capacity %></td>
        <td><%= component.inductivity %></td>
        <td><%= component.voltage %></td>
        <td><%= component.current %></td>
        <td><%= component.power %></td>
        <td><%= component.temperature %></td>
        <td><%= component.dimension %></td>
        <td><%= component.criticalNrOfPieces %></td>
        <% unless component.packaging.nil? %> <td><%= link_to component.packaging, component.packaging %> </td> <% else %> <td> "NA" </td> <% end %>
        <% unless component.manufacturer.nil? %> <td><%= link_to component.manufacturer, component.manufacturer %> </td> <% else %> <td> "NA" </td> <% end %>
        <% if can? :read, component %> <td> <%= link_to 'Megnéz', component %> </td> <% end %>
        <% if can? :update, component %> <td> <%= link_to 'Szerkeszt', edit_component_path(component) %></td> <% end %>
        <% if can? :destroy, component %> <td> <%= link_to 'Töröl', component, method: :delete, data: { confirm: 'Biztos, hogy töröli?' } %> </td> <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<% if can? :create, @components.first %>
  <%= link_to 'Új alkatrész ', new_component_path %>
<% end %>


